"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Promise_1 = require("./Promise");
var util_1 = require("./util");
function polyfill(force) {
    if (force === void 0) { force = false; }
    var global = util_1.getGlobal();
    if (!global) {
        return false;
    }
    if (force || typeof global.Promise !== "function") {
        global.Promise = Promise_1.Promise;
        return true;
    }
    return global.Promise instanceof Promise_1.Promise;
}
exports.default = polyfill;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9seWZpbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwb2x5ZmlsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLHFDQUFvQztBQUNwQywrQkFBbUM7QUFzQm5DLFNBQXdCLFFBQVEsQ0FBQyxLQUFzQjtJQUF0QixzQkFBQSxFQUFBLGFBQXNCO0lBRXRELElBQU0sTUFBTSxHQUFHLGdCQUFTLEVBQUUsQ0FBQztJQUMzQixJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ1osT0FBTyxLQUFLLENBQUM7S0FDYjtJQUNELElBQUksS0FBSyxJQUFJLE9BQU8sTUFBTSxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7UUFDbEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxpQkFBTyxDQUFDO1FBQ3pCLE9BQU8sSUFBSSxDQUFDO0tBQ1o7SUFDRCxPQUFPLE1BQU0sQ0FBQyxPQUFPLFlBQVksaUJBQU8sQ0FBQztBQUMxQyxDQUFDO0FBWEQsMkJBV0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBvbHlmaWxsIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIENvcHlyaWdodCAoQykgMjAxNiBNYXJ0aW4gUG9lbHN0cmFcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbmltcG9ydCB7IFByb21pc2UgfSBmcm9tIFwiLi9Qcm9taXNlXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tIFwiLi91dGlsXCI7XG5cbi8qKlxuICogUG9seWZpbGwgZ2xvYmFsIGBQcm9taXNlYCBpbnN0YW5jZSB3aXRoIHRzLXByb21pc2UgdmVyc2lvbi5cbiAqIEJ5IGRlZmF1bHQsIGl0IHdpbGwgb25seSBpbnN0YWxsIGEgdHMtcHJvbWlzZSB2ZXJzaW9uIGlmIG5vIG90aGVyXG4gKiBpbXBsZW1lbnRhdGlvbiBpcyBwcmVzZW50LiBVc2UgYGZvcmNlID0gdHJ1ZWAgdG8gdW5jb25kaXRpb25hbGx5IHJlcGxhY2UgdGhlXG4gKiBwcm9taXNlIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIFdhcm5pbmc6IGluIGdlbmVyYWwsIGl0J3Mgbm90IHJlYWxseSByZWNvbW1lbmRlZCB0byB1c2UgcG9seWZpbGxzLCBiZWNhdXNlXG4gKiBvdGhlciBsaWJyYXJpZXMgbWF5IGUuZy4gdXNlIHRoZSBmYWN0IHRoYXQgY2VydGFpbiBwbGF0Zm9ybSBmZWF0dXJlcyBhcmVcbiAqIGFic2VudCB0byBjcmVhdGUgYSAnZmluZ2VycHJpbnQnIG9mIGEgcGxhdGZvcm0sIGFuZCBpdCBtYXkgY29uZmxpY3Qgd2l0aFxuICogb3RoZXIgbGlicmFyaWVzIHRoYXQgYXJlIHRyeWluZyB0byBkbyB0aGUgc2FtZSB0aGluZy5cbiAqIElmIHlvdSdyZSB3cml0aW5nIHlvdXIgb3duIGxpYnJhcnksIGl0J3MgbXVjaCBiZXR0ZXIgdG8gc2ltcGx5IGRpcmVjdGx5XG4gKiByZXF1aXJlL2ltcG9ydCB0cy1wcm9taXNlLCBhbmQgdXNlIGl0cyBjbGFzcyBkaXJlY3RseS5cbiAqIEhvd2V2ZXIsIGlmIHlvdSdyZSB0aGUgJ2VuZC11c2VyJyAoaS5lLiBhcHBsaWNhdGlvbiwgbm90IGEgbGlicmFyeSksIGl0IG1heVxuICogYmUgYSB2aWFibGUgc29sdXRpb24gdG8gbWFrZSBQcm9taXNlcyBhdmFpbGFibGUgb24gcGxhdGZvcm1zIHRoYXQgb3RoZXJ3aXNlXG4gKiBkb24ndCBoYXZlIHRoZW0uXG4gKlxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGZvcmNlIChPcHRpb25hbCwgZGVmYXVsdCBmYWxzZSkgRm9yY2libHkgb3ZlcndyaXRlIGV4aXN0aW5nIFByb21pc2UgaW1wbGVtZW50YXRpb24gd2l0aFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHRzLXByb21pc2UgdmVyc2lvbi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICBSZXR1cm5zIHRydWUgd2hlbiBnbG9iYWwgUHJvbWlzZSBpcyAobm93KSBhIHRzLXByb21pc2UgKG9yIGRlcml2ZWQgY2xhc3MpLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKGZvcmNlOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcblx0Ly8gR2V0IHJlZmVyZW5jZSB0byBnbG9iYWxzIChgZ2xvYmFsYCwgYHdpbmRvd2AsIGV0Yy4pXG5cdGNvbnN0IGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXHRpZiAoIWdsb2JhbCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpZiAoZm9yY2UgfHwgdHlwZW9mIGdsb2JhbC5Qcm9taXNlICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRnbG9iYWwuUHJvbWlzZSA9IFByb21pc2U7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGdsb2JhbC5Qcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZTtcbn1cbiJdfQ==