"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const WordGroup_1 = require("../beans/WordGroup");
class StorageUtil {
    static addWordGroup(wordGroup) {
        let wordGroupList = this.getWordGroup();
        wordGroupList.unshift(wordGroup);
        this.saveWordGroupList(wordGroupList);
    }
    static getWordGroup() {
        let wordGroupList = wx.getStorageSync('wordGroupList');
        if (!wordGroupList) {
            return new Array();
        }
        let list = new Array();
        for (let i = 0; i < wordGroupList.length; i++) {
            let wordGroup = new WordGroup_1.WordGroup();
            wordGroup.setCount(wordGroupList[i].count);
            wordGroup.setId(wordGroupList[i].id);
            wordGroup.setName(wordGroupList[i].name);
            wordGroup.setList(wordGroupList[i].list);
            list.push(wordGroup);
        }
        return list;
    }
    static deleteWordGroup(wordGroup) {
        let wordGroupList = this.getWordGroup();
        let groupListTemp = new Array();
        for (let i = 0; i < wordGroupList.length; i++) {
            if (wordGroupList[i].getId() !== wordGroup.getId()) {
                groupListTemp.push(wordGroupList[i]);
            }
        }
        this.saveWordGroupList(groupListTemp);
    }
    static addWord(wordGroup, word) {
        let wordGroupList = this.getWordGroup();
        for (let i = 0; i < wordGroupList.length; i++) {
            if (wordGroupList[i].getId() === wordGroup.getId()) {
                let wordList = wordGroupList[i].getList();
                wordList.unshift(word);
                wordGroupList[i].setList(wordList);
                wordGroupList[i].setCount(wordList.length);
                this.saveWordGroupList(wordGroupList);
                return;
            }
        }
    }
    static deleteWord(wordGroup, word) {
        let wordGroupList = this.getWordGroup();
        for (let i = 0; i < wordGroupList.length; i++) {
            if (wordGroupList[i].getId() === wordGroup.getId()) {
                let wordList = wordGroupList[i].getList();
                let wordListTemp = new Array();
                for (let j = 0; j < wordList.length; j++) {
                    if (wordList[j] !== word) {
                        wordListTemp.push(wordList[j]);
                    }
                }
                wordGroupList[i].setList(wordListTemp);
                wordGroupList[i].setCount(wordListTemp.length);
                this.saveWordGroupList(wordGroupList);
                return;
            }
        }
    }
    static saveWordGroupList(wordGroupList) {
        wx.setStorageSync('wordGroupList', wordGroupList);
    }
}
exports.StorageUtil = StorageUtil;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RvcmFnZVV0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJTdG9yYWdlVXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWVBLGtEQUE4QztBQUc5QyxNQUFhLFdBQVc7SUFRZixNQUFNLENBQUMsWUFBWSxDQUFDLFNBQW9CO1FBQzdDLElBQUksYUFBYSxHQUFxQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7UUFDekQsYUFBYSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDdkMsQ0FBQztJQVFNLE1BQU0sQ0FBQyxZQUFZO1FBQ3hCLElBQUksYUFBYSxHQUFjLEVBQUUsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUE7UUFDakUsSUFBRyxDQUFDLGFBQWEsRUFBQztZQUNoQixPQUFPLElBQUksS0FBSyxFQUFhLENBQUE7U0FDOUI7UUFLRCxJQUFJLElBQUksR0FBb0IsSUFBSSxLQUFLLEVBQWEsQ0FBQTtRQUNsRCxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsYUFBYSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBQztZQUNyQyxJQUFJLFNBQVMsR0FBYSxJQUFJLHFCQUFTLEVBQUUsQ0FBQTtZQUN6QyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUMxQyxTQUFTLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUNwQyxTQUFTLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN4QyxTQUFTLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFD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QWMsQ0FBQyxlQUFlLEVBQUMsYUFBYSxDQUFDLENBQUE7SUFDbEQsQ0FBQztDQUNGO0FBcEdELGtDQW9HQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDnvJPlrZjmk43kvZznsbtcclxuICogXHJcbiAqIOS4uuS7gOS5iOimgeaKiuWNleivjeWtmOWcqOacrOWcsO+8n1xyXG4gKiAt5Zug5Li65rKh6ZKx5Lmw5pyN5Yqh5Zmo77yBXHJcbiAqIFxyXG4gKiDlsI/nqIvluo/mnInlhY3otLnnmoTkupHmlbDmja7lupPkuobkuLrku4DkuYjkuI3nlKjvvJ9cclxuICogLeWboOS4uuaHku+8gemCo+agt+i/mOW+l+W8gOWPkeS4gOezu+WIl+eahOeUqOaIt+euoeeQhuWVpeeahOOAglxyXG4gKiAt5Y+q5oOz5oqK5ZCs5YaZ5Yqf6IO95YGa5aW977yB5YW25a6D5Yqf6IO95oOz6KaB55qE5Y+v5Lul6Ieq5bex5YGa77yM5omA5Lul5byA5rqQ5LqG77yBXHJcbiAqIFxyXG4gKiDlrZjlnKjmnKzlnLDnnJ/nmoTmsqHpl67popjlkJfvvJ9cclxuICogLeaciemXrumimOeahO+8jOavlOWmguW+ruS/oeS4jemrmOWFtOS6huWwsea4hee8k+WtmO+8jOS/neWtmOeahOWNleivjeWwseWFqOayoeS6hu+8gVxyXG4gKiAt5q+P5Liq5bCP56iL5bqP5Y+q5pyJMTBLQueahOe8k+WtmOepuumXtO+8jOWvueWtpumcuOadpeivtOWPr+iDveS4jeWkn+eUqO+8gVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdvcmRHcm91cCB9IGZyb20gJy4uL2JlYW5zL1dvcmRHcm91cCdcclxuaW1wb3J0IHsgV29yZCB9IGZyb20gJy4uL2JlYW5zL1dvcmQnXHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcmFnZVV0aWx7XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOWIhue7hFxyXG4gICAqIOaWueazleaYr+WFiOiOt+WPluW9k+WJjeeahOWNleivjeWIhue7hOaVsOe7hFxyXG4gICAqIOWGjeW+gOaVsOe7hOmHjHB1c2jopoHmt7vliqDnmoTliIbnu4RcclxuICAgKiDlho3miopwdXNo5ZCO55qE5pWw57uE5L+d5a2Y5Lya57yT5a2YXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBhZGRXb3JkR3JvdXAod29yZEdyb3VwOiBXb3JkR3JvdXApOiB2b2lkIHtcclxuICAgIGxldCB3b3JkR3JvdXBMaXN0OiBBcnJheTxXb3JkR3JvdXA+ID0gdGhpcy5nZXRXb3JkR3JvdXAoKVxyXG4gICAgd29yZEdyb3VwTGlzdC51bnNoaWZ0KHdvcmRHcm91cClcclxuICAgIHRoaXMuc2F2ZVdvcmRHcm91cExpc3Qod29yZEdyb3VwTGlzdClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaJgOacieeahOWNleivjeWIhue7hFxyXG4gICAqIOWmguaenOayoeacieS7u+S9leeahOWNleivjeWIhue7hFxyXG4gICAqIOaIluiAheiOt+WPluWksei0pVxyXG4gICAqIOWImei/lOWbnuepuuaVsOe7hFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0V29yZEdyb3VwKCk6QXJyYXk8V29yZEdyb3VwPntcclxuICAgIGxldCB3b3JkR3JvdXBMaXN0OkFycmF5PGFueT4gPSB3eC5nZXRTdG9yYWdlU3luYygnd29yZEdyb3VwTGlzdCcpXHJcbiAgICBpZighd29yZEdyb3VwTGlzdCl7XHJcbiAgICAgIHJldHVybiBuZXcgQXJyYXk8V29yZEdyb3VwPigpXHJcbiAgICB9XHJcbiAgICAvL+i/memHjOazqOaEj+S6hlxyXG4gICAgLy/kuI3mmK/lj6rnroDljZXov5Tlm57nvJPlrZjnmoRsaXN0XHJcbiAgICAvL+Wunui3teivgeaYjue8k+WtmOmHjOmdouWtmOeahOWvueixoeS8muS4ouWkseaWueazlVxyXG4gICAgLy/miYDku6XopoHmiornvJPlrZjlj5blh7rnmoRsaXN05bCB6KOF5YiwV29yZEdyb3VwTGlzdOS4rVxyXG4gICAgbGV0IGxpc3Q6QXJyYXk8V29yZEdyb3VwPiA9IG5ldyBBcnJheTxXb3JkR3JvdXA+KClcclxuICAgIGZvcihsZXQgaT0wO2k8d29yZEdyb3VwTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgbGV0IHdvcmRHcm91cDpXb3JkR3JvdXAgPSBuZXcgV29yZEdyb3VwKClcclxuICAgICAgd29yZEdyb3VwLnNldENvdW50KHdvcmRHcm91cExpc3RbaV0uY291bnQpXHJcbiAgICAgIHdvcmRHcm91cC5zZXRJZCh3b3JkR3JvdXBMaXN0W2ldLmlkKVxyXG4gICAgICB3b3JkR3JvdXAuc2V0TmFtZSh3b3JkR3JvdXBMaXN0W2ldLm5hbWUpXHJcbiAgICAgIHdvcmRHcm91cC5zZXRMaXN0KHdvcmRHcm91cExpc3RbaV0ubGlzdClcclxuICAgICAgbGlzdC5wdXNoKHdvcmRHcm91cClcclxuICAgIH1cclxuICAgIHJldHVybiBsaXN0XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliKDpmaTljZXor43liIbnu4RcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGRlbGV0ZVdvcmRHcm91cCh3b3JkR3JvdXA6V29yZEdyb3VwKTogdm9pZCB7XHJcbiAgICBsZXQgd29yZEdyb3VwTGlzdDogQXJyYXk8V29yZEdyb3VwPiA9IHRoaXMuZ2V0V29yZEdyb3VwKClcclxuICAgIGxldCBncm91cExpc3RUZW1wOiBBcnJheTxXb3JkR3JvdXA+ID0gbmV3IEFycmF5PFdvcmRHcm91cD4oKVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JkR3JvdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh3b3JkR3JvdXBMaXN0W2ldLmdldElkKCkhPT13b3JkR3JvdXAuZ2V0SWQoKSkge1xyXG4gICAgICAgIGdyb3VwTGlzdFRlbXAucHVzaCh3b3JkR3JvdXBMaXN0W2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5zYXZlV29yZEdyb3VwTGlzdChncm91cExpc3RUZW1wKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5b6A5Y2V6K+N5YiG57uE5LiL5re75Yqg5Y2V6K+NXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBhZGRXb3JkKHdvcmRHcm91cDpXb3JkR3JvdXAsd29yZDpXb3JkKTp2b2lke1xyXG4gICAgbGV0IHdvcmRHcm91cExpc3Q6IEFycmF5PFdvcmRHcm91cD4gPSB0aGlzLmdldFdvcmRHcm91cCgpXHJcbiAgICBmb3IobGV0IGk9MDtpPHdvcmRHcm91cExpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgIGlmKHdvcmRHcm91cExpc3RbaV0uZ2V0SWQoKT09PXdvcmRHcm91cC5nZXRJZCgpKXtcclxuICAgICAgICBsZXQgd29yZExpc3Q6IEFycmF5PFdvcmQ+ID0gd29yZEdyb3VwTGlzdFtpXS5nZXRMaXN0KClcclxuICAgICAgICB3b3JkTGlzdC51bnNoaWZ0KHdvcmQpXHJcbiAgICAgICAgd29yZEdyb3VwTGlzdFtpXS5zZXRMaXN0KHdvcmRMaXN0KVxyXG4gICAgICAgIHdvcmRHcm91cExpc3RbaV0uc2V0Q291bnQod29yZExpc3QubGVuZ3RoKVxyXG4gICAgICAgIHRoaXMuc2F2ZVdvcmRHcm91cExpc3Qod29yZEdyb3VwTGlzdClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yig6Zmk5Y2V6K+N5YiG57uE5LiL55qE5oyH5a6a5Y2V6K+NXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBkZWxldGVXb3JkKHdvcmRHcm91cDpXb3JkR3JvdXAsd29yZDpXb3JkKTp2b2lke1xyXG4gICAgbGV0IHdvcmRHcm91cExpc3Q6IEFycmF5PFdvcmRHcm91cD4gPSB0aGlzLmdldFdvcmRHcm91cCgpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRHcm91cExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHdvcmRHcm91cExpc3RbaV0uZ2V0SWQoKSA9PT0gd29yZEdyb3VwLmdldElkKCkpIHtcclxuICAgICAgICBsZXQgd29yZExpc3Q6IEFycmF5PFdvcmQ+ID0gd29yZEdyb3VwTGlzdFtpXS5nZXRMaXN0KClcclxuICAgICAgICBsZXQgd29yZExpc3RUZW1wOiBBcnJheTxXb3JkPiA9IG5ldyBBcnJheTxXb3JkPigpXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3b3JkTGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgaWYgKHdvcmRMaXN0W2pdICE9PSB3b3JkKSB7XHJcbiAgICAgICAgICAgIHdvcmRMaXN0VGVtcC5wdXNoKHdvcmRMaXN0W2pdKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JkR3JvdXBMaXN0W2ldLnNldExpc3Qod29yZExpc3RUZW1wKVxyXG4gICAgICAgIHdvcmRHcm91cExpc3RbaV0uc2V0Q291bnQod29yZExpc3RUZW1wLmxlbmd0aClcclxuICAgICAgICB0aGlzLnNhdmVXb3JkR3JvdXBMaXN0KHdvcmRHcm91cExpc3QpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWwhuWNleivjeWIl+ihqOS/neWtmOWIsOe8k+WtmFxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIHNhdmVXb3JkR3JvdXBMaXN0KHdvcmRHcm91cExpc3Q6QXJyYXk8V29yZEdyb3VwPik6dm9pZHtcclxuICAgIHd4LnNldFN0b3JhZ2VTeW5jKCd3b3JkR3JvdXBMaXN0Jyx3b3JkR3JvdXBMaXN0KVxyXG4gIH1cclxufSJdfQ==